<div
    class="entity-item{{#if hidden}} stripes{{/if}}"
    id="{{id}}"
    style="border-color:#FFFF"
    data-action="openRollout"
>
    <div class="entity-box">
        <span class="item-name">
            {{name}}
        </span>
        <span
            class="entity-type"
        >
           {{type}}
        </span>
    </div>
    <div class="rollout" id="rollout-{{id}}">
        <div class="entity-information">
            {{#if imgsrc}}
            <img src="{{imgsrc}}">
            {{/if}}
            {{#if journalUuid}}
            <span>{{{enrichedUuid}}}</span>
            {{/if}}
        </div>
        {{#each playerRep}}
        <div
            class="entity-item"
            id="{{characterId}}"
            style="border-color:{{repLevel.color}}"
            data-action="openRollout"
        >
            <div class="player-reputation">
                <span class="item-name">
                    {{characterName}}
                </span>
                <span
                    class="reputation-level"
                    data-tooltip="{{localize 'emissary.menu.reputationTracker.currentReputation'}}: {{repNumber}}"
                >
                {{repLevel.label}} 
                </span>
            </div>
            <div class="rollout" id="rollout-{{characterId}}">
                <span class="control-buttons">
                    <span class="reputation-controls">
                    {{#each ../controls}}
                        <button
                            class="reputation-control"
                            entity-uuid="{{../../id}}"
                            character-uuid="{{../characterUuid}}"
                            character-id="{{../characterId}}"
                            data-value="{{amount}}"
                            data-action="updateReputation"
                            data-tooltip="{{label}}"
                        >
                            <i class="{{icon}}"></i>
                        </button>
                    {{/each}}
                    </span>
                </span>
            </div>
        </div>
        {{/each}}
        <span class="control-buttons">
            <span class="meta-controls">
                <button
                class="hide-entity"
                data-action="hideEntity"
                entity-uuid="{{id}}"
                data-tooltip=
                {{#if hidden}}
                "{{localize 'emissary.menu.reputationTracker.reveal'}}"
                {{else}}
                "{{localize 'emissary.menu.reputationTracker.hide'}}"
                {{/if}}
                >
                    {{#if hidden}}
                    <i class="fa-solid fa-eye-slash"></i>
                    {{else}}
                    <i class="fa-solid fa-eye"></i>
                    {{/if}}
                </button>
                <button 
                class="edit-entity" 
                data-action="editEntity" 
                entity-uuid="{{id}}"
                data-tooltip="{{localize 'emissary.menu.reputationTracker.edit'}}">
                    <i class="fa-solid fa-pen-to-square"></i>
                </button>
                <button
                class="remove-entity"
                data-action="deleteEntity"
                entity-uuid="{{id}}"
                data-tooltip="{{localize 'emissary.menu.reputationTracker.remove'}}"
                >
                    <i class="fa-regular fa-trash"></i>
                </button>
            </span>
        </span>
    </div>
</div>